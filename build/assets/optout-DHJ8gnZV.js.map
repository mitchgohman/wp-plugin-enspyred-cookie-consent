{"version":3,"file":"optout-DHJ8gnZV.js","sources":["../../src/optOutLink.js"],"sourcesContent":["// Opt-Out Link Handler - For use with [enspyred_cookie_optout] shortcode\nimport { setConsent } from \"./core/consent\";\nimport { blockAll } from \"./core/trackingBlocker\";\nimport { debugLog } from \"./core/debug\";\n\n/**\n * Handle opt-out link clicks\n * @param {Event} e - Click event\n */\nconst handleOptOutClick = (e) => {\n    e.preventDefault();\n\n    debugLog('Opt-out link clicked');\n\n    // Block all tracking immediately\n    blockAll();\n\n    // Save opt-out choice\n    setConsent(\"opted-out\");\n\n    // Show confirmation message\n    alert(\"Your preference has been saved. Tracking has been disabled.\");\n};\n\n// Initialize on DOM ready\nconst initOptOutLinks = () => {\n    const links = document.querySelectorAll('.enspyred-cookie-optout-link');\n\n    if (links.length === 0) {\n        debugLog('No opt-out links found');\n        return;\n    }\n\n    links.forEach((link) => {\n        link.addEventListener('click', handleOptOutClick);\n        debugLog('Opt-out link initialized');\n    });\n};\n\n// Run when DOM is ready\nif (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", initOptOutLinks);\n} else {\n    initOptOutLinks();\n}\n\n// Support Vite HMR during development\nif (import.meta.hot) {\n    import.meta.hot.accept(() => {\n        initOptOutLinks();\n    });\n}\n"],"names":["handleOptOutClick","debugLog","blockAll","setConsent","initOptOutLinks","links","link"],"mappings":"gEASA,MAAMA,EAAqB,GAAM,CAC7B,EAAE,eAAA,EAEFC,EAAS,sBAAsB,EAG/BC,EAAA,EAGAC,EAAW,WAAW,EAGtB,MAAM,6DAA6D,CACvE,EAGMC,EAAkB,IAAM,CAC1B,MAAMC,EAAQ,SAAS,iBAAiB,8BAA8B,EAEtE,GAAIA,EAAM,SAAW,EAAG,CACpBJ,EAAS,wBAAwB,EACjC,MACJ,CAEAI,EAAM,QAASC,GAAS,CACpBA,EAAK,iBAAiB,QAASN,CAAiB,EAChDC,EAAS,0BAA0B,CACvC,CAAC,CACL,EAGI,SAAS,aAAe,UACxB,SAAS,iBAAiB,mBAAoBG,CAAe,EAE7DA,EAAA"}