const i=()=>{var o,e,t;return((e=(o=window.ECC_DATA)==null?void 0:o.settings)==null?void 0:e.debug_mode)===!0||((t=window.ECC_OPTOUT_DATA)==null?void 0:t.debug)===!0},n=(...o)=>{i()&&console.log("[Cookie Consent]",...o)},r=(...o)=>{i()&&console.error("[Cookie Consent]",...o)},c="enspyred_cookie_consent",a="ecc_opted_out";const u=(o,e,t)=>{const s=new Date(Date.now()+t*24*60*60*1e3).toUTCString();document.cookie=`${o}=${e}; expires=${s}; path=/; SameSite=Lax`},l=o=>{document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`},d=()=>{try{const o=localStorage.getItem(c);if(!o)return null;const e=JSON.parse(o);return e.expiresAt&&Date.now()>e.expiresAt?(w(),null):e}catch(o){return r("Error reading consent:",o),null}},A=o=>{try{const e=Date.now(),t=e+360*24*60*60*1e3,s={choice:o,timestamp:e,expiresAt:t};localStorage.setItem(c,JSON.stringify(s)),o==="opted-out"?(u(a,"1",360),n("Opt-out cookie set for PHP")):l(a),n("Choice saved:",o)}catch(e){r("Error saving consent:",e)}},h=()=>d()!==null,b=()=>{const o=d();return(o==null?void 0:o.choice)==="opted-out"},w=()=>{try{localStorage.removeItem(c),l(a),n("Consent cleared")}catch(o){r("Error clearing consent:",o)}},p="ecc_opted_out",C=()=>{const o=new Date(Date.now()+31536e6).toUTCString();document.cookie=`${p}=1; expires=${o}; path=/; SameSite=Lax`,n("Opt-out cookie set for PHP")},E=()=>{n("Blocking all tracking scripts..."),C(),_(),k(),y(),n("All tracking scripts blocked")},_=()=>{f(),window["ga-disable"]=!0,window.gtag&&window.dataLayer&&(window.dataLayer||[]).forEach(e=>{if(Array.isArray(e)&&e[0]==="config"&&typeof e[1]=="string"){const t=e[1];(t.startsWith("G-")||t.startsWith("UA-"))&&(window[`ga-disable-${t}`]=!0,n("GA disabled for:",t))}}),window["ga-disable-G-"]=!0,n("Google Analytics blocked (using official disable flags)")},f=()=>{g(["_ga","_gid","_gat","_gat_gtag","_gac_gb"]),n("GA cookies deleted")},k=()=>{window.gtag&&(window.gtag("set","ads_data_redaction",!0),window.gtag("set","allow_ad_personalization_signals",!1),window.dataLayer&&window.dataLayer.forEach(o=>{Array.isArray(o)&&o[0]==="config"&&typeof o[1]=="string"&&o[1].startsWith("AW-")&&(window.gtag("config",o[1],{send_page_view:!1,allow_google_signals:!1,allow_ad_personalization_signals:!1}),n("Google Ads disabled for:",o[1]))}),n("Google Ads blocked"))},y=()=>{document.querySelectorAll('script[src*="clarity.ms"]').forEach(t=>{t.remove(),n("Clarity script removed from DOM")}),document.querySelectorAll("script:not([src])").forEach(t=>{const s=t.textContent||"";(s.includes("clarity.ms")||s.includes("window.clarity")&&s.includes("function"))&&(t.remove(),n("Clarity inline script removed"))}),g(["_clck","_clsk","CLID","ANONCHK","MR","MUID","SM"]),n("Clarity blocked (scripts removed, cookies deleted)")},g=o=>{const e=window.location.hostname;o.forEach(t=>{document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`,document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=${e};`,document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.${e};`})};export{r as a,E as b,n as d,h,b as i,A as s};
//# sourceMappingURL=trackingBlocker-Dd2EBt2K.js.map
