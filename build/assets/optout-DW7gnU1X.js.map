{"version":3,"file":"optout-DW7gnU1X.js","sources":["../../src/optOutLink.js"],"sourcesContent":["// Opt-Out Link Handler - For use with [enspyred_cookie_optout] shortcode\nimport { setConsent } from \"./core/consent\";\nimport { blockAll } from \"./core/trackingBlocker\";\n\n/**\n * Handle opt-out link clicks\n * @param {Event} e - Click event\n */\nconst handleOptOutClick = (e) => {\n    e.preventDefault();\n\n    console.log('[Cookie Consent] Opt-out link clicked');\n\n    // Block all tracking immediately\n    blockAll();\n\n    // Save opt-out choice\n    setConsent(\"opted-out\");\n\n    // Show confirmation message\n    alert(\"Your preference has been saved. Tracking has been disabled.\");\n};\n\n// Initialize on DOM ready\nconst initOptOutLinks = () => {\n    const links = document.querySelectorAll('.enspyred-cookie-optout-link');\n\n    if (links.length === 0) {\n        console.log('[Cookie Consent] No opt-out links found');\n        return;\n    }\n\n    links.forEach((link) => {\n        link.addEventListener('click', handleOptOutClick);\n        console.log('[Cookie Consent] Opt-out link initialized');\n    });\n};\n\n// Run when DOM is ready\nif (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", initOptOutLinks);\n} else {\n    initOptOutLinks();\n}\n\n// Support Vite HMR during development\nif (import.meta.hot) {\n    import.meta.hot.accept(() => {\n        initOptOutLinks();\n    });\n}\n"],"names":["handleOptOutClick","blockAll","setConsent","initOptOutLinks","links","link"],"mappings":"yDAQA,MAAMA,EAAqB,GAAM,CAC7B,EAAE,eAAA,EAEF,QAAQ,IAAI,uCAAuC,EAGnDC,EAAA,EAGAC,EAAW,WAAW,EAGtB,MAAM,6DAA6D,CACvE,EAGMC,EAAkB,IAAM,CAC1B,MAAMC,EAAQ,SAAS,iBAAiB,8BAA8B,EAEtE,GAAIA,EAAM,SAAW,EAAG,CACpB,QAAQ,IAAI,yCAAyC,EACrD,MACJ,CAEAA,EAAM,QAASC,GAAS,CACpBA,EAAK,iBAAiB,QAASL,CAAiB,EAChD,QAAQ,IAAI,2CAA2C,CAC3D,CAAC,CACL,EAGI,SAAS,aAAe,UACxB,SAAS,iBAAiB,mBAAoBG,CAAe,EAE7DA,EAAA"}