const c=()=>{var o,e,t;return((e=(o=window.ECC_DATA)==null?void 0:o.settings)==null?void 0:e.debug_mode)===!0||((t=window.ECC_OPTOUT_DATA)==null?void 0:t.debug)===!0},n=(...o)=>{c()&&console.log("[Cookie Consent]",...o)},r=(...o)=>{c()&&console.error("[Cookie Consent]",...o)},a="enspyred_cookie_consent";const i=()=>{try{const o=localStorage.getItem(a);if(!o)return null;const e=JSON.parse(o);return e.expiresAt&&Date.now()>e.expiresAt?(d(),null):e}catch(o){return r("Error reading consent:",o),null}},y=o=>{try{const e=Date.now(),t=e+360*24*60*60*1e3,s={choice:o,timestamp:e,expiresAt:t};localStorage.setItem(a,JSON.stringify(s)),n("Choice saved:",o)}catch(e){r("Error saving consent:",e)}},C=()=>i()!==null,_=()=>{const o=i();return(o==null?void 0:o.choice)==="opted-out"},d=()=>{try{localStorage.removeItem(a),n("Consent cleared")}catch(o){r("Error clearing consent:",o)}},p=()=>{n("Blocking all tracking scripts..."),g(),w(),f(),n("All tracking scripts blocked")},g=()=>{u(),window["ga-disable"]=!0,window.gtag&&window.dataLayer&&(window.dataLayer||[]).forEach(e=>{if(Array.isArray(e)&&e[0]==="config"&&typeof e[1]=="string"){const t=e[1];(t.startsWith("G-")||t.startsWith("UA-"))&&(window[`ga-disable-${t}`]=!0,n("GA disabled for:",t))}}),window["ga-disable-G-"]=!0,n("Google Analytics blocked (using official disable flags)")},u=()=>{l(["_ga","_gid","_gat","_gat_gtag","_gac_gb"]),n("GA cookies deleted")},w=()=>{window.gtag&&(window.gtag("set","ads_data_redaction",!0),window.gtag("set","allow_ad_personalization_signals",!1),window.dataLayer&&window.dataLayer.forEach(o=>{Array.isArray(o)&&o[0]==="config"&&typeof o[1]=="string"&&o[1].startsWith("AW-")&&(window.gtag("config",o[1],{send_page_view:!1,allow_google_signals:!1,allow_ad_personalization_signals:!1}),n("Google Ads disabled for:",o[1]))}),n("Google Ads blocked"))},f=()=>{document.querySelectorAll('script[src*="clarity.ms"]').forEach(t=>{t.remove(),n("Clarity script removed from DOM")}),document.querySelectorAll("script:not([src])").forEach(t=>{const s=t.textContent||"";(s.includes("clarity.ms")||s.includes("window.clarity")&&s.includes("function"))&&(t.remove(),n("Clarity inline script removed"))}),l(["_clck","_clsk","CLID","ANONCHK","MR","MUID","SM"]),n("Clarity blocked (scripts removed, cookies deleted)")},l=o=>{const e=window.location.hostname;o.forEach(t=>{document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`,document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=${e};`,document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.${e};`})};export{r as a,p as b,n as d,C as h,_ as i,y as s};
//# sourceMappingURL=trackingBlocker-ByLTqSRs.js.map
